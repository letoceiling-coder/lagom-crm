import{_ as g,G as E,j as f,H as u}from"./app-aUuM60eI.js";const S={name:"SEOHead",props:{title:{type:String,default:""},description:{type:String,default:""},keywords:{type:String,default:""},ogImage:{type:String,default:""},ogType:{type:String,default:"website"},canonical:{type:String,default:""},noindex:{type:Boolean,default:!1},schema:{type:[Object,Array],default:null}},setup(t){const a=[];let l="",d="";const c=e=>{const n=e.name?`meta[name="${e.name}"]`:`meta[property="${e.property}"]`;let o=document.querySelector(n);o?Object.keys(e).forEach(i=>{o.setAttribute(i,e[i])}):(o=document.createElement("meta"),Object.keys(e).forEach(i=>{o.setAttribute(i,e[i])}),document.head.appendChild(o),a.push(o))},s=e=>{const n=`link[rel="${e.rel}"]`;let o=document.querySelector(n);o?Object.keys(e).forEach(i=>{o.setAttribute(i,e[i])}):(o=document.createElement("link"),Object.keys(e).forEach(i=>{o.setAttribute(i,e[i])}),document.head.appendChild(o),a.push(o))},m=e=>{const n=document.querySelector('script[type="application/ld+json"]');n&&n.remove();const o=document.createElement("script");o.type="application/ld+json",o.text=JSON.stringify(e),document.head.appendChild(o),a.push(o)},r=()=>{console.log("[SEO DEBUG] SEOHead.updateMeta вызван, текущий title:",document.title),console.log("[SEO DEBUG] props.title:",t.title),console.log("[SEO DEBUG] props.description:",t.description),console.log("[SEO DEBUG] lastTitle:",l);const e=t.title||"Lagom - Профессиональные услуги по работе с земельными участками",n=t.description||"Профессиональные услуги по подбору и оформлению земельных участков";if(console.log("[SEO DEBUG] titleToSet:",e),console.log("[SEO DEBUG] descriptionToSet:",n),l&&e===l&&n===d){console.log("[SEO DEBUG] Значения не изменились, пропускаем обновление");return}if(l=e,d=n,console.log("[SEO DEBUG] Обновляем title с",document.title,"на",e),document.title=e,console.log("[SEO DEBUG] Title обновлен на:",document.title),c({name:"description",content:n}),t.keywords&&c({name:"keywords",content:t.keywords}),t.noindex?c({name:"robots",content:"noindex, nofollow"}):c({name:"robots",content:"index, follow"}),c({property:"og:title",content:e}),c({property:"og:description",content:n}),c({property:"og:type",content:t.ogType}),c({property:"og:url",content:t.canonical||window.location.href}),t.ogImage){const o=t.ogImage.startsWith("http")?t.ogImage:window.location.origin+t.ogImage;c({property:"og:image",content:o})}if(c({name:"twitter:card",content:"summary_large_image"}),c({name:"twitter:title",content:e}),c({name:"twitter:description",content:n}),t.ogImage){const o=t.ogImage.startsWith("http")?t.ogImage:window.location.origin+t.ogImage;c({name:"twitter:image",content:o})}t.canonical&&s({rel:"canonical",href:t.canonical}),t.schema&&m(t.schema)};return console.log("[SEO DEBUG] SEOHead setup: вызов updateMeta при создании компонента"),r(),E(()=>{console.log("[SEO DEBUG] SEOHead watchEffect: props изменились");const e=t.title,n=t.description;t.keywords,t.canonical,t.ogImage,t.schema,console.log("[SEO DEBUG] SEOHead watchEffect: title =",e,"description =",n),r()}),f(()=>{console.log("[SEO DEBUG] SEOHead onMounted: компонент смонтирован"),r()}),u(()=>{a.forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)})}),{}}};function y(t,a,l,d,c,s){return null}const p=g(S,[["render",y]]);export{p as S};
